// Router System Test - Simpler version
// Tests client-side routing with push_state, replace_state, get_pathname

pub fn main() -> i64 {
    console::log_str("=== Router Test ===");

    // Get initial pathname
    console::log_str("Step 1: Getting initial path...");
    let initial_ptr = router::get_pathname();
    console::print(initial_ptr as i64);  // Show raw pointer for debugging

    // Navigate to /home
    console::log_str("Step 2: Pushing /home");
    router::push_state("/home");

    // Navigate to /about
    console::log_str("Step 3: Pushing /about");
    router::push_state("/about");

    // Replace current with /contact
    console::log_str("Step 4: Replacing with /contact");
    router::replace_state("/contact");

    // Navigate to /products/123
    console::log_str("Step 5: Pushing /products/123");
    router::push_state("/products/123");

    // Go back
    console::log_str("Step 6: Going back");
    router::back();

    // Go forward
    console::log_str("Step 7: Going forward");
    router::forward();

    // Go back 2 steps
    console::log_str("Step 8: Go(-2)");
    router::go(-2);

    console::log_str("Router test complete!");
    0
}
