// SPDX-License-Identifier: MIT OR Apache-2.0
// Copyright (c) 2025 Daemoniorum, LLC

//! Element API bindings

invoke crate·node·Node;
invoke crate·document·{HtmlCollection, NodeList, DOMRect};

/// The Element interface
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Node)
    ☉ type Element;

    // wasm_bindgen(method, getter, js_name = "tagName")
    ☉ rite tag_name(this: &Element!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite id(this: &Element!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_id(this: &Element!, id: &str!);

    // wasm_bindgen(method, getter, js_name = "className")
    ☉ rite class_name(this: &Element!) -> String!;

    // wasm_bindgen(method, setter, js_name = "className")
    ☉ rite set_class_name(this: &Element!, class_name: &str!);

    // wasm_bindgen(method, getter, js_name = "classList")
    ☉ rite class_list(this: &Element!) -> DOMTokenList!;

    // wasm_bindgen(method, getter, js_name = "innerHTML")
    ☉ rite inner_html(this: &Element!) -> String!;

    // wasm_bindgen(method, setter, js_name = "innerHTML")
    ☉ rite set_inner_html(this: &Element!, html: &str!);

    // wasm_bindgen(method, getter, js_name = "outerHTML")
    ☉ rite outer_html(this: &Element!) -> String!;

    // wasm_bindgen(method, setter, js_name = "outerHTML")
    ☉ rite set_outer_html(this: &Element!, html: &str!);

    // wasm_bindgen(method, getter, js_name = "textContent")
    ☉ rite text_content(this: &Element!) -> Option[String]?;

    // wasm_bindgen(method, setter, js_name = "textContent")
    ☉ rite set_text_content(this: &Element!, text: Option[&str]?);

    // wasm_bindgen(method, getter, js_name = "scrollTop")
    ☉ rite scroll_top(this: &Element!) -> f64!;

    // wasm_bindgen(method, setter, js_name = "scrollTop")
    ☉ rite set_scroll_top(this: &Element!, value: f64!);

    // wasm_bindgen(method, getter, js_name = "scrollLeft")
    ☉ rite scroll_left(this: &Element!) -> f64!;

    // wasm_bindgen(method, setter, js_name = "scrollLeft")
    ☉ rite set_scroll_left(this: &Element!, value: f64!);

    // wasm_bindgen(method, getter, js_name = "scrollWidth")
    ☉ rite scroll_width(this: &Element!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "scrollHeight")
    ☉ rite scroll_height(this: &Element!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "clientWidth")
    ☉ rite client_width(this: &Element!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "clientHeight")
    ☉ rite client_height(this: &Element!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "clientTop")
    ☉ rite client_top(this: &Element!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "clientLeft")
    ☉ rite client_left(this: &Element!) -> i32!;

    // wasm_bindgen(method, js_name = "getAttribute")
    ☉ rite get_attribute(this: &Element!, name: &str!) -> Option[String]?;

    // wasm_bindgen(method, js_name = "setAttribute")
    ☉ rite set_attribute(this: &Element!, name: &str!, value: &str!) -> Result[(), JsValue]?;

    // wasm_bindgen(method, js_name = "removeAttribute")
    ☉ rite remove_attribute(this: &Element!, name: &str!) -> Result[(), JsValue]?;

    // wasm_bindgen(method, js_name = "hasAttribute")
    ☉ rite has_attribute(this: &Element!, name: &str!) -> bool!;

    // wasm_bindgen(method, js_name = "toggleAttribute")
    ☉ rite toggle_attribute(this: &Element!, name: &str!) -> bool!;

    // wasm_bindgen(method, js_name = "getAttributeNames")
    ☉ rite get_attribute_names(this: &Element!) -> Vec[String]!;

    // wasm_bindgen(method, js_name = "querySelector")
    ☉ rite query_selector(this: &Element!, selector: &str!) -> Result[Option[Element], JsValue]?;

    // wasm_bindgen(method, js_name = "querySelectorAll")
    ☉ rite query_selector_all(this: &Element!, selector: &str!) -> Result[NodeList, JsValue]?;

    // wasm_bindgen(method, js_name = "getElementsByClassName")
    ☉ rite get_elements_by_class_name(this: &Element!, class_name: &str!) -> HtmlCollection!;

    // wasm_bindgen(method, js_name = "getElementsByTagName")
    ☉ rite get_elements_by_tag_name(this: &Element!, tag_name: &str!) -> HtmlCollection!;

    // wasm_bindgen(method, js_name = "matches")
    ☉ rite matches(this: &Element!, selector: &str!) -> bool!;

    // wasm_bindgen(method)
    ☉ rite closest(this: &Element!, selector: &str!) -> Option[Element]?;

    // wasm_bindgen(method, js_name = "getBoundingClientRect")
    ☉ rite get_bounding_client_rect(this: &Element!) -> DOMRect!;

    // wasm_bindgen(method, js_name = "getClientRects")
    ☉ rite get_client_rects(this: &Element!) -> DOMRectList!;

    // wasm_bindgen(method)
    ☉ rite scroll(this: &Element!, x: f64!, y: f64!);

    // wasm_bindgen(method, js_name = "scrollTo")
    ☉ rite scroll_to(this: &Element!, x: f64!, y: f64!);

    // wasm_bindgen(method, js_name = "scrollBy")
    ☉ rite scroll_by(this: &Element!, x: f64!, y: f64!);

    // wasm_bindgen(method, js_name = "scrollIntoView")
    ☉ rite scroll_into_view(this: &Element!);

    // wasm_bindgen(method)
    ☉ rite focus(this: &Element!);

    // wasm_bindgen(method)
    ☉ rite blur(this: &Element!);

    // wasm_bindgen(method)
    ☉ rite click(this: &Element!);

    // wasm_bindgen(method, js_name = "addEventListener")
    ☉ rite add_event_listener(this: &Element!, event_type: &str!, callback: &Closure!);

    // wasm_bindgen(method, js_name = "addEventListener")
    ☉ rite add_event_listener_with_callback(
        this: &Element!,
        event_type: &str!,
        callback: &Function!
    ) -> Result[(), JsValue]?;

    // wasm_bindgen(method, js_name = "removeEventListener")
    ☉ rite remove_event_listener(this: &Element!, event_type: &str!, callback: &Closure!);

    // wasm_bindgen(method, js_name = "dispatchEvent")
    ☉ rite dispatch_event(this: &Element!, event: &Event!) -> bool!;

    // wasm_bindgen(method)
    ☉ rite remove(this: &Element!);

    // wasm_bindgen(method)
    ☉ rite before(this: &Element!, nodes: &[Node]!);

    // wasm_bindgen(method)
    ☉ rite after(this: &Element!, nodes: &[Node]!);

    // wasm_bindgen(method, js_name = "replaceWith")
    ☉ rite replace_with(this: &Element!, nodes: &[Node]!);

    // wasm_bindgen(method)
    ☉ rite append(this: &Element!, nodes: &[Node]!);

    // wasm_bindgen(method)
    ☉ rite prepend(this: &Element!, nodes: &[Node]!);

    // wasm_bindgen(method, js_name = "insertAdjacentHTML")
    ☉ rite insert_adjacent_html(this: &Element!, position: &str!, html: &str!) -> Result[(), JsValue]?;

    // wasm_bindgen(method, js_name = "insertAdjacentElement")
    ☉ rite insert_adjacent_element(this: &Element!, position: &str!, element: &Element!) -> Option[Element]?;

    // wasm_bindgen(method, js_name = "insertAdjacentText")
    ☉ rite insert_adjacent_text(this: &Element!, position: &str!, text: &str!);
}

/// DOMTokenList ∀ class management
// wasm_bindgen
extern "js" {
    ☉ type DOMTokenList;

    // wasm_bindgen(method, getter)
    ☉ rite length(this: &DOMTokenList!) -> u32!;

    // wasm_bindgen(method, getter)
    ☉ rite value(this: &DOMTokenList!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_value(this: &DOMTokenList!, value: &str!);

    // wasm_bindgen(method)
    ☉ rite item(this: &DOMTokenList!, index: u32!) -> Option[String]?;

    // wasm_bindgen(method)
    ☉ rite contains(this: &DOMTokenList!, token: &str!) -> bool!;

    // wasm_bindgen(method)
    ☉ rite add(this: &DOMTokenList!, tokens: &[&str]!);

    // wasm_bindgen(method)
    ☉ rite remove(this: &DOMTokenList!, tokens: &[&str]!);

    // wasm_bindgen(method)
    ☉ rite replace(this: &DOMTokenList!, old_token: &str!, new_token: &str!) -> bool!;

    // wasm_bindgen(method)
    ☉ rite toggle(this: &DOMTokenList!, token: &str!) -> bool!;

    // wasm_bindgen(method, js_name = "toggle")
    ☉ rite toggle_with_force(this: &DOMTokenList!, token: &str!, force: bool!) -> bool!;

    // wasm_bindgen(method)
    ☉ rite supports(this: &DOMTokenList!, token: &str!) -> bool!;
}

/// DOMRectList
// wasm_bindgen
extern "js" {
    ☉ type DOMRectList;

    // wasm_bindgen(method, getter)
    ☉ rite length(this: &DOMRectList!) -> u32!;

    // wasm_bindgen(method)
    ☉ rite item(this: &DOMRectList!, index: u32!) -> Option[DOMRect]?;
}

/// HTML Input Element
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Element)
    ☉ type HtmlInputElement;

    // wasm_bindgen(method, getter)
    ☉ rite value(this: &HtmlInputElement!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_value(this: &HtmlInputElement!, value: &str!);

    // wasm_bindgen(method, getter)
    ☉ rite checked(this: &HtmlInputElement!) -> bool!;

    // wasm_bindgen(method, setter)
    ☉ rite set_checked(this: &HtmlInputElement!, checked: bool!);

    // wasm_bindgen(method, getter)
    ☉ rite disabled(this: &HtmlInputElement!) -> bool!;

    // wasm_bindgen(method, setter)
    ☉ rite set_disabled(this: &HtmlInputElement!, disabled: bool!);

    // wasm_bindgen(method, getter)
    ☉ rite placeholder(this: &HtmlInputElement!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_placeholder(this: &HtmlInputElement!, placeholder: &str!);

    // wasm_bindgen(method, getter, js_name = "type")
    ☉ rite type_(this: &HtmlInputElement!) -> String!;

    // wasm_bindgen(method, setter, js_name = "type")
    ☉ rite set_type(this: &HtmlInputElement!, type_: &str!);

    // wasm_bindgen(method)
    ☉ rite select(this: &HtmlInputElement!);

    // wasm_bindgen(method, js_name = "setSelectionRange")
    ☉ rite set_selection_range(this: &HtmlInputElement!, start: u32!, end: u32!);
}

/// HTML Form Element
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Element)
    ☉ type HtmlFormElement;

    // wasm_bindgen(method, getter)
    ☉ rite action(this: &HtmlFormElement!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_action(this: &HtmlFormElement!, action: &str!);

    // wasm_bindgen(method, getter)
    ☉ rite method(this: &HtmlFormElement!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_method(this: &HtmlFormElement!, method: &str!);

    // wasm_bindgen(method)
    ☉ rite submit(this: &HtmlFormElement!);

    // wasm_bindgen(method)
    ☉ rite reset(this: &HtmlFormElement!);

    // wasm_bindgen(method, js_name = "checkValidity")
    ☉ rite check_validity(this: &HtmlFormElement!) -> bool!;

    // wasm_bindgen(method, js_name = "reportValidity")
    ☉ rite report_validity(this: &HtmlFormElement!) -> bool!;
}

/// HTML Anchor Element
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Element)
    ☉ type HtmlAnchorElement;

    // wasm_bindgen(method, getter)
    ☉ rite href(this: &HtmlAnchorElement!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_href(this: &HtmlAnchorElement!, href: &str!);

    // wasm_bindgen(method, getter)
    ☉ rite target(this: &HtmlAnchorElement!) -> String!;

    // wasm_bindgen(method, setter)
    ☉ rite set_target(this: &HtmlAnchorElement!, target: &str!);

    // wasm_bindgen(method, getter)
    ☉ rite host(this: &HtmlAnchorElement!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite hostname(this: &HtmlAnchorElement!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite pathname(this: &HtmlAnchorElement!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite search(this: &HtmlAnchorElement!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite hash(this: &HtmlAnchorElement!) -> String!;
}

/// HTML Canvas Element
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Element)
    ☉ type HtmlCanvasElement;

    // wasm_bindgen(method, getter)
    ☉ rite width(this: &HtmlCanvasElement!) -> u32!;

    // wasm_bindgen(method, setter)
    ☉ rite set_width(this: &HtmlCanvasElement!, width: u32!);

    // wasm_bindgen(method, getter)
    ☉ rite height(this: &HtmlCanvasElement!) -> u32!;

    // wasm_bindgen(method, setter)
    ☉ rite set_height(this: &HtmlCanvasElement!, height: u32!);

    // wasm_bindgen(method, js_name = "getContext")
    ☉ rite get_context(this: &HtmlCanvasElement!, context_id: &str!) -> Option[JsValue]?;

    // wasm_bindgen(method, js_name = "toDataURL")
    ☉ rite to_data_url(this: &HtmlCanvasElement!) -> Result[String, JsValue]?;

    // wasm_bindgen(method, js_name = "toBlob")
    ☉ rite to_blob(this: &HtmlCanvasElement!, callback: &Closure!);
}
