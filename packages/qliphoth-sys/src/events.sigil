// SPDX-License-Identifier: MIT OR Apache-2.0
// Copyright (c) 2025 Daemoniorum, LLC

//! Event API bindings

/// Base Event interface
// wasm_bindgen
extern "js" {
    ☉ type Event;

    // wasm_bindgen(constructor)
    ☉ rite new(type_: &str!) -> Event!;

    // wasm_bindgen(method, getter, js_name = "type")
    ☉ rite type_(this: &Event!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite target(this: &Event!) -> Option[EventTarget]?;

    // wasm_bindgen(method, getter, js_name = "currentTarget")
    ☉ rite current_target(this: &Event!) -> Option[EventTarget]?;

    // wasm_bindgen(method, getter, js_name = "eventPhase")
    ☉ rite event_phase(this: &Event!) -> u16!;

    // wasm_bindgen(method, getter)
    ☉ rite bubbles(this: &Event!) -> bool!;

    // wasm_bindgen(method, getter)
    ☉ rite cancelable(this: &Event!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "defaultPrevented")
    ☉ rite default_prevented(this: &Event!) -> bool!;

    // wasm_bindgen(method, getter)
    ☉ rite composed(this: &Event!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "isTrusted")
    ☉ rite is_trusted(this: &Event!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "timeStamp")
    ☉ rite time_stamp(this: &Event!) -> f64!;

    // wasm_bindgen(method, js_name = "preventDefault")
    ☉ rite prevent_default(this: &Event!);

    // wasm_bindgen(method, js_name = "stopPropagation")
    ☉ rite stop_propagation(this: &Event!);

    // wasm_bindgen(method, js_name = "stopImmediatePropagation")
    ☉ rite stop_immediate_propagation(this: &Event!);

    // wasm_bindgen(method, js_name = "composedPath")
    ☉ rite composed_path(this: &Event!) -> Vec[EventTarget]!;
}

/// EventTarget interface
// wasm_bindgen
extern "js" {
    ☉ type EventTarget;

    // wasm_bindgen(method, js_name = "addEventListener")
    ☉ rite add_event_listener(this: &EventTarget!, type_: &str!, callback: &Closure!);

    // wasm_bindgen(method, js_name = "removeEventListener")
    ☉ rite remove_event_listener(this: &EventTarget!, type_: &str!, callback: &Closure!);

    // wasm_bindgen(method, js_name = "dispatchEvent")
    ☉ rite dispatch_event(this: &EventTarget!, event: &Event!) -> bool!;
}

/// MouseEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type MouseEvent;

    // wasm_bindgen(constructor)
    ☉ rite new(type_: &str!) -> MouseEvent!;

    // wasm_bindgen(method, getter, js_name = "clientX")
    ☉ rite client_x(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "clientY")
    ☉ rite client_y(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "pageX")
    ☉ rite page_x(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "pageY")
    ☉ rite page_y(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "screenX")
    ☉ rite screen_x(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "screenY")
    ☉ rite screen_y(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "offsetX")
    ☉ rite offset_x(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "offsetY")
    ☉ rite offset_y(this: &MouseEvent!) -> i32!;

    // wasm_bindgen(method, getter)
    ☉ rite button(this: &MouseEvent!) -> i16!;

    // wasm_bindgen(method, getter)
    ☉ rite buttons(this: &MouseEvent!) -> u16!;

    // wasm_bindgen(method, getter, js_name = "altKey")
    ☉ rite alt_key(this: &MouseEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "ctrlKey")
    ☉ rite ctrl_key(this: &MouseEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "shiftKey")
    ☉ rite shift_key(this: &MouseEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "metaKey")
    ☉ rite meta_key(this: &MouseEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "relatedTarget")
    ☉ rite related_target(this: &MouseEvent!) -> Option[EventTarget]?;
}

/// KeyboardEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type KeyboardEvent;

    // wasm_bindgen(constructor)
    ☉ rite new(type_: &str!) -> KeyboardEvent!;

    // wasm_bindgen(method, getter)
    ☉ rite key(this: &KeyboardEvent!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite code(this: &KeyboardEvent!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite location(this: &KeyboardEvent!) -> u32!;

    // wasm_bindgen(method, getter)
    ☉ rite repeat(this: &KeyboardEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "isComposing")
    ☉ rite is_composing(this: &KeyboardEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "altKey")
    ☉ rite alt_key(this: &KeyboardEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "ctrlKey")
    ☉ rite ctrl_key(this: &KeyboardEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "shiftKey")
    ☉ rite shift_key(this: &KeyboardEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "metaKey")
    ☉ rite meta_key(this: &KeyboardEvent!) -> bool!;

    // wasm_bindgen(method, js_name = "getModifierState")
    ☉ rite get_modifier_state(this: &KeyboardEvent!, key: &str!) -> bool!;
}

/// InputEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type InputEvent;

    // wasm_bindgen(method, getter)
    ☉ rite data(this: &InputEvent!) -> Option[String]?;

    // wasm_bindgen(method, getter, js_name = "inputType")
    ☉ rite input_type(this: &InputEvent!) -> String!;

    // wasm_bindgen(method, getter, js_name = "isComposing")
    ☉ rite is_composing(this: &InputEvent!) -> bool!;
}

/// FocusEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type FocusEvent;

    // wasm_bindgen(method, getter, js_name = "relatedTarget")
    ☉ rite related_target(this: &FocusEvent!) -> Option[EventTarget]?;
}

/// WheelEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = MouseEvent)
    ☉ type WheelEvent;

    // wasm_bindgen(method, getter, js_name = "deltaX")
    ☉ rite delta_x(this: &WheelEvent!) -> f64!;

    // wasm_bindgen(method, getter, js_name = "deltaY")
    ☉ rite delta_y(this: &WheelEvent!) -> f64!;

    // wasm_bindgen(method, getter, js_name = "deltaZ")
    ☉ rite delta_z(this: &WheelEvent!) -> f64!;

    // wasm_bindgen(method, getter, js_name = "deltaMode")
    ☉ rite delta_mode(this: &WheelEvent!) -> u32!;
}

/// TouchEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type TouchEvent;

    // wasm_bindgen(method, getter)
    ☉ rite touches(this: &TouchEvent!) -> TouchList!;

    // wasm_bindgen(method, getter, js_name = "targetTouches")
    ☉ rite target_touches(this: &TouchEvent!) -> TouchList!;

    // wasm_bindgen(method, getter, js_name = "changedTouches")
    ☉ rite changed_touches(this: &TouchEvent!) -> TouchList!;

    // wasm_bindgen(method, getter, js_name = "altKey")
    ☉ rite alt_key(this: &TouchEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "ctrlKey")
    ☉ rite ctrl_key(this: &TouchEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "shiftKey")
    ☉ rite shift_key(this: &TouchEvent!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "metaKey")
    ☉ rite meta_key(this: &TouchEvent!) -> bool!;
}

/// TouchList
// wasm_bindgen
extern "js" {
    ☉ type TouchList;

    // wasm_bindgen(method, getter)
    ☉ rite length(this: &TouchList!) -> u32!;

    // wasm_bindgen(method)
    ☉ rite item(this: &TouchList!, index: u32!) -> Option[Touch]?;

    // wasm_bindgen(method)
    ☉ rite get(this: &TouchList!, index: u32!) -> Option[Touch]?;
}

/// Touch
// wasm_bindgen
extern "js" {
    ☉ type Touch;

    // wasm_bindgen(method, getter)
    ☉ rite identifier(this: &Touch!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "clientX")
    ☉ rite client_x(this: &Touch!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "clientY")
    ☉ rite client_y(this: &Touch!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "pageX")
    ☉ rite page_x(this: &Touch!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "pageY")
    ☉ rite page_y(this: &Touch!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "screenX")
    ☉ rite screen_x(this: &Touch!) -> i32!;

    // wasm_bindgen(method, getter, js_name = "screenY")
    ☉ rite screen_y(this: &Touch!) -> i32!;

    // wasm_bindgen(method, getter)
    ☉ rite target(this: &Touch!) -> EventTarget!;

    // wasm_bindgen(method, getter, js_name = "radiusX")
    ☉ rite radius_x(this: &Touch!) -> f32!;

    // wasm_bindgen(method, getter, js_name = "radiusY")
    ☉ rite radius_y(this: &Touch!) -> f32!;

    // wasm_bindgen(method, getter, js_name = "rotationAngle")
    ☉ rite rotation_angle(this: &Touch!) -> f32!;

    // wasm_bindgen(method, getter)
    ☉ rite force(this: &Touch!) -> f32!;
}

/// DragEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = MouseEvent)
    ☉ type DragEvent;

    // wasm_bindgen(method, getter, js_name = "dataTransfer")
    ☉ rite data_transfer(this: &DragEvent!) -> Option[DataTransfer]?;
}

/// DataTransfer
// wasm_bindgen
extern "js" {
    ☉ type DataTransfer;

    // wasm_bindgen(method, getter, js_name = "dropEffect")
    ☉ rite drop_effect(this: &DataTransfer!) -> String!;

    // wasm_bindgen(method, setter, js_name = "dropEffect")
    ☉ rite set_drop_effect(this: &DataTransfer!, effect: &str!);

    // wasm_bindgen(method, getter, js_name = "effectAllowed")
    ☉ rite effect_allowed(this: &DataTransfer!) -> String!;

    // wasm_bindgen(method, setter, js_name = "effectAllowed")
    ☉ rite set_effect_allowed(this: &DataTransfer!, effect: &str!);

    // wasm_bindgen(method, getter)
    ☉ rite files(this: &DataTransfer!) -> FileList!;

    // wasm_bindgen(method, getter)
    ☉ rite types(this: &DataTransfer!) -> Vec[String]!;

    // wasm_bindgen(method, js_name = "getData")
    ☉ rite get_data(this: &DataTransfer!, format: &str!) -> String!;

    // wasm_bindgen(method, js_name = "setData")
    ☉ rite set_data(this: &DataTransfer!, format: &str!, data: &str!);

    // wasm_bindgen(method, js_name = "clearData")
    ☉ rite clear_data(this: &DataTransfer!, format: Option[&str]?);
}

/// AnimationEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type AnimationEvent;

    // wasm_bindgen(method, getter, js_name = "animationName")
    ☉ rite animation_name(this: &AnimationEvent!) -> String!;

    // wasm_bindgen(method, getter, js_name = "elapsedTime")
    ☉ rite elapsed_time(this: &AnimationEvent!) -> f32!;

    // wasm_bindgen(method, getter, js_name = "pseudoElement")
    ☉ rite pseudo_element(this: &AnimationEvent!) -> String!;
}

/// TransitionEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type TransitionEvent;

    // wasm_bindgen(method, getter, js_name = "propertyName")
    ☉ rite property_name(this: &TransitionEvent!) -> String!;

    // wasm_bindgen(method, getter, js_name = "elapsedTime")
    ☉ rite elapsed_time(this: &TransitionEvent!) -> f32!;

    // wasm_bindgen(method, getter, js_name = "pseudoElement")
    ☉ rite pseudo_element(this: &TransitionEvent!) -> String!;
}

/// PopStateEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type PopStateEvent;

    // wasm_bindgen(method, getter)
    ☉ rite state(this: &PopStateEvent!) -> JsValue!;
}

/// HashChangeEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type HashChangeEvent;

    // wasm_bindgen(method, getter, js_name = "oldURL")
    ☉ rite old_url(this: &HashChangeEvent!) -> String!;

    // wasm_bindgen(method, getter, js_name = "newURL")
    ☉ rite new_url(this: &HashChangeEvent!) -> String!;
}

/// CustomEvent
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Event)
    ☉ type CustomEvent;

    // wasm_bindgen(constructor)
    ☉ rite new(type_: &str!) -> CustomEvent!;

    // wasm_bindgen(method, getter)
    ☉ rite detail(this: &CustomEvent!) -> JsValue!;
}

/// FileList
// wasm_bindgen
extern "js" {
    ☉ type FileList;

    // wasm_bindgen(method, getter)
    ☉ rite length(this: &FileList!) -> u32!;

    // wasm_bindgen(method)
    ☉ rite item(this: &FileList!, index: u32!) -> Option[File]?;
}

/// File
// wasm_bindgen
extern "js" {
    // wasm_bindgen(extends = Blob)
    ☉ type File;

    // wasm_bindgen(method, getter)
    ☉ rite name(this: &File!) -> String!;

    // wasm_bindgen(method, getter, js_name = "lastModified")
    ☉ rite last_modified(this: &File!) -> f64!;

    // wasm_bindgen(method, getter, js_name = "webkitRelativePath")
    ☉ rite webkit_relative_path(this: &File!) -> String!;
}

/// Blob
// wasm_bindgen
extern "js" {
    ☉ type Blob;

    // wasm_bindgen(method, getter)
    ☉ rite size(this: &Blob!) -> u64!;

    // wasm_bindgen(method, getter, js_name = "type")
    ☉ rite type_(this: &Blob!) -> String!;

    // wasm_bindgen(method)
    ☉ rite slice(this: &Blob!, start: Option[i64]?, end: Option[i64]?, content_type: Option[&str]?) -> Blob!;

    // wasm_bindgen(method, js_name = "arrayBuffer")
    ☉ rite array_buffer(this: &Blob!) -> Promise!;

    // wasm_bindgen(method)
    ☉ rite text(this: &Blob!) -> Promise!;

    // wasm_bindgen(method)
    ☉ rite stream(this: &Blob!) -> ReadableStream!;
}
