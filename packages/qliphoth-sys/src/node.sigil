// SPDX-License-Identifier: MIT OR Apache-2.0
// Copyright (c) 2025 Daemoniorum, LLC

//! Node API bindings

invoke crate·document·NodeList;

/// The Node interface - base ∀ all DOM nodes
// wasm_bindgen
extern "js" {
    ☉ type Node;

    // wasm_bindgen(method, getter, js_name = "nodeType")
    ☉ rite node_type(this: &Node!) -> u16!;

    // wasm_bindgen(method, getter, js_name = "nodeName")
    ☉ rite node_name(this: &Node!) -> String!;

    // wasm_bindgen(method, getter, js_name = "nodeValue")
    ☉ rite node_value(this: &Node!) -> Option[String]?;

    // wasm_bindgen(method, setter, js_name = "nodeValue")
    ☉ rite set_node_value(this: &Node!, value: Option[&str]?);

    // wasm_bindgen(method, getter, js_name = "textContent")
    ☉ rite text_content(this: &Node!) -> Option[String]?;

    // wasm_bindgen(method, setter, js_name = "textContent")
    ☉ rite set_text_content(this: &Node!, text: Option[&str]?);

    // wasm_bindgen(method, getter, js_name = "parentNode")
    ☉ rite parent_node(this: &Node!) -> Option[Node]?;

    // wasm_bindgen(method, getter, js_name = "parentElement")
    ☉ rite parent_element(this: &Node!) -> Option[Element]?;

    // wasm_bindgen(method, getter, js_name = "childNodes")
    ☉ rite child_nodes(this: &Node!) -> NodeList!;

    // wasm_bindgen(method, getter, js_name = "firstChild")
    ☉ rite first_child(this: &Node!) -> Option[Node]?;

    // wasm_bindgen(method, getter, js_name = "lastChild")
    ☉ rite last_child(this: &Node!) -> Option[Node]?;

    // wasm_bindgen(method, getter, js_name = "previousSibling")
    ☉ rite previous_sibling(this: &Node!) -> Option[Node]?;

    // wasm_bindgen(method, getter, js_name = "nextSibling")
    ☉ rite next_sibling(this: &Node!) -> Option[Node]?;

    // wasm_bindgen(method, getter, js_name = "ownerDocument")
    ☉ rite owner_document(this: &Node!) -> Option[Document]?;

    // wasm_bindgen(method, getter, js_name = "isConnected")
    ☉ rite is_connected(this: &Node!) -> bool!;

    // wasm_bindgen(method, js_name = "hasChildNodes")
    ☉ rite has_child_nodes(this: &Node!) -> bool!;

    // wasm_bindgen(method, js_name = "appendChild")
    ☉ rite append_child(this: &Node!, child: &Node!) -> Result[Node, JsValue]?;

    // wasm_bindgen(method, js_name = "insertBefore")
    ☉ rite insert_before(this: &Node!, new_child: &Node!, ref_child: Option[&Node]?) -> Result[Node, JsValue]?;

    // wasm_bindgen(method, js_name = "replaceChild")
    ☉ rite replace_child(this: &Node!, new_child: &Node!, old_child: &Node!) -> Result[Node, JsValue]?;

    // wasm_bindgen(method, js_name = "removeChild")
    ☉ rite remove_child(this: &Node!, child: &Node!) -> Result[Node, JsValue]?;

    // wasm_bindgen(method, js_name = "cloneNode")
    ☉ rite clone_node(this: &Node!) -> Result[Node, JsValue]?;

    // wasm_bindgen(method, js_name = "cloneNode")
    ☉ rite clone_node_with_deep(this: &Node!, deep: bool!) -> Result[Node, JsValue]?;

    // wasm_bindgen(method)
    ☉ rite normalize(this: &Node!);

    // wasm_bindgen(method)
    ☉ rite contains(this: &Node!, other: Option[&Node]?) -> bool!;

    // wasm_bindgen(method, js_name = "compareDocumentPosition")
    ☉ rite compare_document_position(this: &Node!, other: &Node!) -> u16!;

    // wasm_bindgen(method, js_name = "getRootNode")
    ☉ rite get_root_node(this: &Node!) -> Node!;

    // wasm_bindgen(method, js_name = "isEqualNode")
    ☉ rite is_equal_node(this: &Node!, other: Option[&Node]?) -> bool!;

    // wasm_bindgen(method, js_name = "isSameNode")
    ☉ rite is_same_node(this: &Node!, other: Option[&Node]?) -> bool!;

    // wasm_bindgen(method, js_name = "lookupPrefix")
    ☉ rite lookup_prefix(this: &Node!, namespace: Option[&str]?) -> Option[String]?;

    // wasm_bindgen(method, js_name = "lookupNamespaceURI")
    ☉ rite lookup_namespace_uri(this: &Node!, prefix: Option[&str]?) -> Option[String]?;

    // wasm_bindgen(method, js_name = "isDefaultNamespace")
    ☉ rite is_default_namespace(this: &Node!, namespace: Option[&str]?) -> bool!;
}

// Node type constants
☉ const ELEMENT_NODE: u16 = 1;
☉ const ATTRIBUTE_NODE: u16 = 2;
☉ const TEXT_NODE: u16 = 3;
☉ const CDATA_SECTION_NODE: u16 = 4;
☉ const PROCESSING_INSTRUCTION_NODE: u16 = 7;
☉ const COMMENT_NODE: u16 = 8;
☉ const DOCUMENT_NODE: u16 = 9;
☉ const DOCUMENT_TYPE_NODE: u16 = 10;
☉ const DOCUMENT_FRAGMENT_NODE: u16 = 11;

// Document position constants
☉ const DOCUMENT_POSITION_DISCONNECTED: u16 = 1;
☉ const DOCUMENT_POSITION_PRECEDING: u16 = 2;
☉ const DOCUMENT_POSITION_FOLLOWING: u16 = 4;
☉ const DOCUMENT_POSITION_CONTAINS: u16 = 8;
☉ const DOCUMENT_POSITION_CONTAINED_BY: u16 = 16;
☉ const DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC: u16 = 32;
