// SPDX-License-Identifier: MIT OR Apache-2.0
// Copyright (c) 2025 Daemoniorum, LLC

//! Navigator API bindings

/// Navigator interface
// wasm_bindgen
extern "js" {
    ☉ type Navigator;

    // wasm_bindgen(method, getter, js_name = "userAgent")
    ☉ rite user_agent(this: &Navigator!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite language(this: &Navigator!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite languages(this: &Navigator!) -> Vec[String]!;

    // wasm_bindgen(method, getter)
    ☉ rite platform(this: &Navigator!) -> String!;

    // wasm_bindgen(method, getter, js_name = "onLine")
    ☉ rite online(this: &Navigator!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "cookieEnabled")
    ☉ rite cookie_enabled(this: &Navigator!) -> bool!;

    // wasm_bindgen(method, getter, js_name = "hardwareConcurrency")
    ☉ rite hardware_concurrency(this: &Navigator!) -> u32!;

    // wasm_bindgen(method, getter, js_name = "maxTouchPoints")
    ☉ rite max_touch_points(this: &Navigator!) -> i32!;

    // wasm_bindgen(method, getter)
    ☉ rite clipboard(this: &Navigator!) -> Clipboard!;

    // wasm_bindgen(method, getter)
    ☉ rite geolocation(this: &Navigator!) -> Geolocation!;

    // wasm_bindgen(method, getter)
    ☉ rite permissions(this: &Navigator!) -> Permissions!;

    // wasm_bindgen(method, getter, js_name = "serviceWorker")
    ☉ rite service_worker(this: &Navigator!) -> ServiceWorkerContainer!;

    // wasm_bindgen(method, getter)
    ☉ rite credentials(this: &Navigator!) -> CredentialsContainer!;

    // wasm_bindgen(method, getter)
    ☉ rite mediaDevices(this: &Navigator!) -> MediaDevices!;

    // wasm_bindgen(method, js_name = "sendBeacon")
    ☉ rite send_beacon(this: &Navigator!, url: &str!, data: Option[&str]?) -> bool!;

    // wasm_bindgen(method)
    ☉ rite vibrate(this: &Navigator!, pattern: &[u32]!) -> bool!;

    // wasm_bindgen(method)
    ☉ rite share(this: &Navigator!, data: &JsValue!) -> Promise!;

    // wasm_bindgen(method, js_name = "canShare")
    ☉ rite can_share(this: &Navigator!, data: &JsValue!) -> bool!;
}

/// Clipboard API
// wasm_bindgen
extern "js" {
    ☉ type Clipboard;

    // wasm_bindgen(method)
    ☉ rite read(this: &Clipboard!) -> Promise!;

    // wasm_bindgen(method, js_name = "readText")
    ☉ rite read_text(this: &Clipboard!) -> Promise!;

    // wasm_bindgen(method)
    ☉ rite write(this: &Clipboard!, data: &ClipboardItem!) -> Promise!;

    // wasm_bindgen(method, js_name = "writeText")
    ☉ rite write_text(this: &Clipboard!, text: &str!) -> Promise!;
}

/// ClipboardItem
// wasm_bindgen
extern "js" {
    ☉ type ClipboardItem;

    // wasm_bindgen(constructor)
    ☉ rite new(data: &JsValue!) -> ClipboardItem!;

    // wasm_bindgen(method, getter)
    ☉ rite types(this: &ClipboardItem!) -> Vec[String]!;

    // wasm_bindgen(method, js_name = "getType")
    ☉ rite get_type(this: &ClipboardItem!, type_: &str!) -> Promise!;
}

/// Geolocation API
// wasm_bindgen
extern "js" {
    ☉ type Geolocation;

    // wasm_bindgen(method, js_name = "getCurrentPosition")
    ☉ rite get_current_position(
        this: &Geolocation!,
        success: &Closure!,
        error: Option[&Closure]?,
        options: Option[&JsValue]?
    );

    // wasm_bindgen(method, js_name = "watchPosition")
    ☉ rite watch_position(
        this: &Geolocation!,
        success: &Closure!,
        error: Option[&Closure]?,
        options: Option[&JsValue]?
    ) -> i32!;

    // wasm_bindgen(method, js_name = "clearWatch")
    ☉ rite clear_watch(this: &Geolocation!, id: i32!);
}

/// GeolocationPosition
// wasm_bindgen
extern "js" {
    ☉ type GeolocationPosition;

    // wasm_bindgen(method, getter)
    ☉ rite coords(this: &GeolocationPosition!) -> GeolocationCoordinates!;

    // wasm_bindgen(method, getter)
    ☉ rite timestamp(this: &GeolocationPosition!) -> f64!;
}

/// GeolocationCoordinates
// wasm_bindgen
extern "js" {
    ☉ type GeolocationCoordinates;

    // wasm_bindgen(method, getter)
    ☉ rite latitude(this: &GeolocationCoordinates!) -> f64!;

    // wasm_bindgen(method, getter)
    ☉ rite longitude(this: &GeolocationCoordinates!) -> f64!;

    // wasm_bindgen(method, getter)
    ☉ rite altitude(this: &GeolocationCoordinates!) -> Option[f64]?;

    // wasm_bindgen(method, getter)
    ☉ rite accuracy(this: &GeolocationCoordinates!) -> f64!;

    // wasm_bindgen(method, getter, js_name = "altitudeAccuracy")
    ☉ rite altitude_accuracy(this: &GeolocationCoordinates!) -> Option[f64]?;

    // wasm_bindgen(method, getter)
    ☉ rite heading(this: &GeolocationCoordinates!) -> Option[f64]?;

    // wasm_bindgen(method, getter)
    ☉ rite speed(this: &GeolocationCoordinates!) -> Option[f64]?;
}

/// Permissions API
// wasm_bindgen
extern "js" {
    ☉ type Permissions;

    // wasm_bindgen(method)
    ☉ rite query(this: &Permissions!, descriptor: &JsValue!) -> Promise!;
}

/// PermissionStatus
// wasm_bindgen
extern "js" {
    ☉ type PermissionStatus;

    // wasm_bindgen(method, getter)
    ☉ rite state(this: &PermissionStatus!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite name(this: &PermissionStatus!) -> String!;
}

/// ServiceWorkerContainer
// wasm_bindgen
extern "js" {
    ☉ type ServiceWorkerContainer;

    // wasm_bindgen(method, getter)
    ☉ rite controller(this: &ServiceWorkerContainer!) -> Option[ServiceWorker]?;

    // wasm_bindgen(method, getter)
    ☉ rite ready(this: &ServiceWorkerContainer!) -> Promise!;

    // wasm_bindgen(method)
    ☉ rite register(this: &ServiceWorkerContainer!, url: &str!) -> Promise!;

    // wasm_bindgen(method, js_name = "getRegistration")
    ☉ rite get_registration(this: &ServiceWorkerContainer!, url: Option[&str]?) -> Promise!;

    // wasm_bindgen(method, js_name = "getRegistrations")
    ☉ rite get_registrations(this: &ServiceWorkerContainer!) -> Promise!;
}

/// ServiceWorker
// wasm_bindgen
extern "js" {
    ☉ type ServiceWorker;

    // wasm_bindgen(method, getter, js_name = "scriptURL")
    ☉ rite script_url(this: &ServiceWorker!) -> String!;

    // wasm_bindgen(method, getter)
    ☉ rite state(this: &ServiceWorker!) -> String!;

    // wasm_bindgen(method, js_name = "postMessage")
    ☉ rite post_message(this: &ServiceWorker!, message: &JsValue!);
}

/// CredentialsContainer
// wasm_bindgen
extern "js" {
    ☉ type CredentialsContainer;

    // wasm_bindgen(method)
    ☉ rite create(this: &CredentialsContainer!, options: &JsValue!) -> Promise!;

    // wasm_bindgen(method)
    ☉ rite get(this: &CredentialsContainer!, options: &JsValue!) -> Promise!;

    // wasm_bindgen(method)
    ☉ rite store(this: &CredentialsContainer!, credential: &JsValue!) -> Promise!;

    // wasm_bindgen(method, js_name = "preventSilentAccess")
    ☉ rite prevent_silent_access(this: &CredentialsContainer!) -> Promise!;
}

/// MediaDevices
// wasm_bindgen
extern "js" {
    ☉ type MediaDevices;

    // wasm_bindgen(method, js_name = "enumerateDevices")
    ☉ rite enumerate_devices(this: &MediaDevices!) -> Promise!;

    // wasm_bindgen(method, js_name = "getUserMedia")
    ☉ rite get_user_media(this: &MediaDevices!, constraints: &JsValue!) -> Promise!;

    // wasm_bindgen(method, js_name = "getDisplayMedia")
    ☉ rite get_display_media(this: &MediaDevices!, constraints: &JsValue!) -> Promise!;
}
